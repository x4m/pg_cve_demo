# CVE-2020-14349: PostgreSQL Logical Replication search_path Vulnerability

This vulnerability exists in PostgreSQL versions before 12.4. The issue is that logical replication connections don't reset their search_path, allowing an attacker to create malicious functions in the public schema that will be called instead of the system functions.

## Setup

1. Build and start the container:
```bash
docker-compose up --build
```

2. Connect to the database:
```bash
psql -h localhost -U user1 -d db1
# Password: password
```

## Exploitation
See cheats.txt in history.


## Technical Details

The vulnerability exists because logical replication connections don't reset their search_path to a safe value. When the replication connection is established, it will look for functions in the public schema first before checking pg_catalog. By creating a malicious function with the same name as a system function, we can trick the replication process into executing our code with elevated privileges.

This vulnerability was fixed in PostgreSQL 12.4 by ensuring that logical replication connections always use a safe search_path. 